{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"TB-Profiler","text":"<p>TB-Profiler is a command-line tool used to process whole genome sequencing data to predict lineage and drug-resistance. The pipeline searches for small variants and big deletions associated with drug resistance. It will also report the lineage. By default it uses trimmomatic to trim the reads, BWA (or minimap2 for nanopore) to align to the reference genome and bcftools (or GATKv4/freebayes) to call variants. </p> <p></p>"},{"location":"install/","title":"Install","text":"<p>TB-Profiler can be installed using a variety of different methods. The easiest is to use conda but you can also install manually.</p>"},{"location":"install/#conda","title":"Conda","text":"<p>Conda can function as a package manages are is available here. If you have conda make sure the bioconda and conda-forge channels are added:</p> <pre><code>conda config --add channels defaults\nconda config --add channels bioconda\nconda config --add channels conda-forge\n</code></pre> <p>Then you can install with:</p> <pre><code>conda install -c bioconda tb-profiler\n</code></pre> <p>If this is taking a long time or complains about inconsistencies there are a few things we can do. The first is switching to <code>mamba install</code>. <code>mamba</code> basically is a drop-in replacement for conda, but is a lot faster. If you don't have it yet, you can install with:</p> <pre><code>conda install -c conda-forge mamba\n</code></pre> <p>Second, <code>tb-profiler</code> comes bundled with a lot of software. This often can cause compatibility issues with other software installed in your conda base environemnt. It is therefor recommended to intall <code>tb-profiler</code> in its own enviroment with:</p> <pre><code>mamba create -n tb-profiler tb-profiler\n</code></pre>"},{"location":"install/#manually","title":"Manually","text":"<p>It is possible to install manually. The following pre-requisites will be needed at runtime: trimmomatic (&gt;=v0.38), bwa (&gt;=v0.7.17), minimap2 (&gt;=v2.16), bowtie2 (&gt;=v2.3.5), samtools (&gt;=v1.9), bcftools (&gt;=v1.9), GATK (&gt;=v4.1.4.0), tqdm (&gt;=v4.32.2) and parallel (&gt;=v20190522). The pipeline should work and has been tested on the program versions indicated in parentheses.</p> <p>To install the library, you can then use:</p> <pre><code>pip3 install git+https://github.com/jodyphelan/TBProfiler.git\npip3 install git+https://github.com/jodyphelan/pathogen-profiler.git\nmkdir `python -c \"import sys; print(getattr(sys, 'base_prefix', getattr(sys, 'real_prefix', sys.prefix)));\"`\ntb-profiler update_tbdb\n</code></pre>"},{"location":"install/#docker","title":"Docker","text":"<p>The pipline can also be run through docker. This is handy when the above methods fail for whatever reason. Pull the latest image using:</p> <pre><code>docker pull quay.io/biocontainers/tb-profiler:4.3.0--pypyh5e36f6f_0\n</code></pre> <p>If the above method don't work please feel free to raise an issue. We'll try help you get up and running!</p>"},{"location":"mutation-library/","title":"Mutation library","text":"<p>TB-Profiler ships with a default database. The development of the mutation library is hosted on the tbdb repository. Please visit this repo if you would like to get involved in the database or would like to modify and create your own.</p>"},{"location":"mutation-library/#why-is-there-a-separate-github-repository","title":"Why is there a separate github repository?","text":"<p>With analysis pipelines pretty much standardised, it is evident that accuracy of prediction is affected mostly by the underlying library of mutations. As new evidence for the inclusion or exclusion of mutations is generated, there is a constant need to update and re-evaluate the mutation library. Moreover, it is important for the control of the library to be put in the hands of the end-users. By hosting the library on a separate repository (rather than buried deep in the profiling tool code) it makes it easier to find out exactly which mutations are present. Additionally, github has a number of useful features which can be utilised:</p> <ul> <li>All changes to the library are tracked and can be easily be reverted to previous versions.</li> <li>Users can raise concerns or discuss the library using the Issues section of the github repository.</li> </ul>"}]}